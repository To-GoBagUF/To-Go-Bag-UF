<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>To-Go Bag UF</title>
<style>
  :root{--navy:#001f3f;--white:#fff;--muted:#6b879a;--accent:#00b22d;--radius:12px}
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,system-ui,Arial,sans-serif;color:var(--navy);background:var(--white);-webkit-font-smoothing:antialiased}
  header{background:var(--navy);color:var(--white);padding:20px 14px;text-align:center}
  .header-top{display:flex;align-items:center;gap:12px;justify-content:center;flex-wrap:wrap;margin-bottom:6px}
  header img.logo{height:58px;object-fit:contain;display:block}
  header h1{margin:0;font-size:22px}
  header p{margin:6px 0 8px;font-size:14px}
  .header-note{font-size:13px;opacity:0.95;margin-bottom:8px}
  .header-buttons{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-top:6px}
  .btn{padding:10px 16px;border-radius:10px;font-size:15px;border:0;cursor:pointer;transition:transform .14s,box-shadow .14s}
  .btn-primary{background:var(--white);color:var(--navy);font-weight:700;box-shadow:0 6px 18px rgba(0,0,0,0.12)}
  .btn-secondary{background:transparent;color:var(--white);border:2px solid rgba(255,255,255,0.12)}
  main{max-width:1100px;margin:20px auto;padding:0 16px}
  footer{background:var(--navy);color:var(--white);padding:12px;text-align:center}
  .pay-btn{background:var(--accent);color:white;font-weight:700;width:100%;padding:12px;border:0;border-radius:10px;font-size:16px;margin-top:10px;display:flex;align-items:center;justify-content:center;gap:8px}
  .pay-btn img{height:26px}
</style>
</head>
<body>
<header>
  <div class="header-top">
    <img src="logo.png" class="logo" />
    <h1>To-Go Bag UF</h1>
  </div>
  <p class="header-note">Miljövänliga påsar — För en bättre framtid</p>
</header>

<main>
  <h2>Beställning</h2>
  <p>Fyll i dina uppgifter och slutför beställningen med Swish.</p>

  <label>Antal:</label>
  <input id="amount" type="number" value="1" min="1" />

  <label>Namn:</label>
  <input id="name" type="text" />

  <label>Email:</label>
  <input id="email" type="email" />

  <button onclick="submitOrder()" class="btn btn-primary" style="margin-top:10px">Gå till betalning</button>
</main>

<!-- CHECKOUT MODAL -->
<div id="checkoutModalBackdrop" class="modal-backdrop">
  <div class="modal"></div>
</div>

<footer>
  <p>To-Go Bag UF • 2024</p>
</footer>

<script>
function submitOrder(){
  const amount = parseInt(document.getElementById('amount').value);
  if(!amount || amount < 1) return alert("Ange antal.");
  const name = document.getElementById('name').value.trim();
  const email = document.getElementById('email').value.trim();
  if(!name || !email) return alert("Fyll i alla fält.");

  const PRICE = 20;
  const total = amount * PRICE;

  const swishLink = `swish://payment?version=1&payee=0764134947&amount=${total}&message=Beställning%20To-Go%20Bag%20UF`;
  const webFallback = `https://swish.nu/?number=0764134947&amount=${total}&text=Beställning%20To-Go%20Bag%20UF`;

  const modal = document.querySelector('#checkoutModalBackdrop .modal');

  modal.innerHTML = `
    <span class="closeX" onclick="closeCheckout()" style="position:absolute;right:12px;top:10px;cursor:pointer;font-size:22px">&times;</span>
    <h3>Tack! Din beställning är mottagen</h3>
    <p style="margin-top:10px;font-weight:600">Tryck på knappen nedan för att betala med Swish.</p>

    <button class="pay-btn" onclick="tryOpenLink('${swishLink}','${webFallback}')">
      <img src="swish-logo.png" alt="Swish" /> Betala med Swish
    </button>

    <p style="font-size:13px;margin-top:10px;color:#5b6f80">Belopp: ${total} kr</p>
  `;

  document.getElementById('checkoutModalBackdrop').classList.add('open');
}

function closeCheckout(){
  document.getElementById('checkoutModalBackdrop').classList.remove('open');
}

function tryOpenLink(app, web){
  if(/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)){
    const t = Date.now();
    window.location.href = app;
    setTimeout(()=>{
      if(Date.now() - t < 1500) window.open(web);
    }, 900);
  } else {
    window.open(web);
  }
}
</script>

</body>
</html>
