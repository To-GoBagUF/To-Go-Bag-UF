<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>To-Go Bag UF</title>
<style>
  body { margin:0; font-family: Arial, sans-serif; background: white; color: #001f3f; }
  header { background: #001f3f; color: white; padding: 40px 20px; text-align: center; }
  header h1 { margin:0; font-size: 36px; }
  header p { font-size: 18px; margin-top: 10px; }
  .btn { display:inline-block; padding:12px 24px; margin:10px; border:none; border-radius:10px; font-size:16px; cursor:pointer; transition:0.3s; }
  .btn:hover { transform: scale(1.05); }
  .btn-primary { background:#001f3f; color:white; }
  .btn-secondary { background:white; color:#001f3f; border:2px solid #001f3f; }
  section { padding:40px 20px; text-align:center; }
  .product-description { max-width:600px; margin: 0 auto; }
  select, input[type="number"], input[type="text"], input[type="email"] { width:100%; padding:10px; margin-bottom:10px; border-radius:6px; border:1px solid #001f3f; }
  #cartIcon { position:fixed; top:20px; right:20px; font-size:24px; background:#001f3f; color:white; padding:12px 16px; border-radius:50%; cursor:pointer; }
  #cartModal, #checkoutModal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); justify-content:center; align-items:center; z-index:1000; opacity:0; pointer-events:none; transition:0.4s; }
  .modalContent { background:white; padding:30px; border-radius:12px; max-width:500px; width:90%; position:relative; transform:translateY(-50px); transition:0.4s; }
  .modalOpen { opacity:1; pointer-events:auto; }
  .modalOpen .modalContent { transform:translateY(0); }
  .closeBtn { position:absolute; top:10px; right:15px; font-size:24px; cursor:pointer; }
  footer { background:#001f3f; color:white; padding:20px; text-align:center; }
</style>
</head>
<body>

<header>
  <h1>To-Go Bag</h1>
  <p>F√∂r alla sm√• kriser i livet ‚Äì vi packade v√§skan √•t dig üòâ</p>
  <button class="btn btn-primary" onclick="scrollToSection('product')">Produkt</button>
  <button class="btn btn-secondary" onclick="scrollToSection('contact')">Kontakt</button>
</header>

<section id="product">
  <h2>The To-Go Bag</h2>
  <div class="product-description">
    <p>En liten v√§ska med handsanitizer, bandages, hairties, tampon/pad, m√ºslibar, gum och wetwipes.</p>
    <label>Variant:</label>
    <select id="variantSelect">
      <option value="Pad/Tampon">Pad/Tampon</option>
      <option value="Male">Male</option>
    </select>
    <div id="subVariantContainer">
      <label>V√§lj produkt:</label>
      <select id="subVariantSelect">
        <option value="Pad">Pad</option>
        <option value="Tampon">Tampon</option>
      </select>
    </div>
    <label>F√§rg:</label>
    <select id="colorSelect">
      <option value="Bl√•">Bl√•</option>
      <option value="Rosa">Rosa</option>
      <option value="Svart">Svart</option>
      <option value="Vit">Vit</option>
    </select>
    <button id="orderBtn" class="btn btn-primary">L√§gg i varukorg - 85kr</button>
  </div>
</section>

<div id="cartIcon">üõí <span id="cartCount">0</span></div>
<div id="cartModal"><div class="modalContent"><span id="closeCart" class="closeBtn">&times;</span><h2>Din varukorg</h2><div id="cartContent"></div></div></div>
<div id="checkoutModal"><div class="modalContent"><span id="closeCheckout" class="closeBtn">&times;</span><h2>Slutf√∂r best√§llning</h2><form id="checkout-form"><input type="text" id="name" placeholder="Namn" required><input type="email" id="email" placeholder="E-post" required><input type="text" id="phone" placeholder="Telefonnummer" required><input type="text" id="address" placeholder="Adress" required><input type="text" id="postal" placeholder="Postnummer" required><input type="text" id="city" placeholder="Stad" required><label for="shipping">Fraktmetod:</label><select id="shipping"><option value="Standard">Standard</option><option value="Express">Express</option></select><label for="variant">Variant:</label><select id="variant"><option value="Pad/Tampon">Pad/Tampon</option><option value="Male">Male</option></select><label for="subVariant">Produktval:</label><select id="subVariant"><option value="Pad">Pad</option><option value="Tampon">Tampon</option></select><label for="color">F√§rg:</label><select id="color"><option value="Bl√•">Bl√•</option><option value="Rosa">Rosa</option><option value="Svart">Svart</option><option value="Vit">Vit</option></select><label for="quantityCheckout">Antal:</label><input type="number" id="quantityCheckout" value="1" min="1"><button type="button" onclick="sendShippingAndPay()" class="btn btn-primary" style="width:100%;">Slutf√∂r k√∂p</button></form></div></div>

<section id="contact"><h2>Kontakt</h2><p>E-post: kontakt@togobaguf.com</p><p>Telefon: 076-413 49 47</p></section>
<footer>&copy; 2025 To-Go Bag UF</footer>

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
emailjs.init("ZUlGUNzP7Tqxg-LkD");

function scrollToSection(id){ document.getElementById(id).scrollIntoView({behavior:'smooth'}); }

let cart = 0;
document.getElementById('variantSelect').addEventListener('change', function(){ document.getElementById('subVariantContainer').style.display = (this.value==='Pad/Tampon')?'block':'none'; });
function openModal(id){ document.getElementById(id).classList.add('modalOpen'); }
function closeModal(id){ document.getElementById(id).classList.remove('modalOpen'); }

document.getElementById('orderBtn').onclick = function(){
  cart = 1;
  const selectedVariant = document.getElementById('variantSelect').value;
  let selectedSubVariant = '';
  if(selectedVariant==='Pad/Tampon') selectedSubVariant = document.getElementById('subVariantSelect').value;
  const selectedColor = document.getElementById('colorSelect').value;
  document.getElementById('cartCount').innerText = cart;

  document.getElementById('cartContent').innerHTML = `<p>The To-Go Bag - 85kr</p><p>Variant: ${selectedVariant}${selectedSubVariant?' ('+selectedSubVariant+')':''}</p><p>F√§rg: ${selectedColor}</p><label for="cartQuantity">Antal:</label><input type="number" id="cartQuantity" value="1" min="1"><p>Total: <span id="cartTotal">85</span>kr</p><button id="proceedCheckout">F√∂rbest√§ll / Checkout</button>`;

  openModal('cartModal');
  const cartQuantityInput = document.getElementById('cartQuantity');
  const cartTotalSpan = document.getElementById('cartTotal');
  cartQuantityInput.addEventListener('input', function(){ let quantity=parseInt(cartQuantityInput.value); if(isNaN(quantity)||quantity<1) quantity=1; cartQuantityInput.value=quantity; cartTotalSpan.innerText=85*quantity; });
  document.getElementById('proceedCheckout').onclick = function(){ const quantity=parseInt(cartQuantityInput.value)||1; document.getElementById('variant').value=selectedVariant; document.getElementById('subVariant').value=selectedSubVariant; document.getElementById('color').value=selectedColor; document.getElementById('quantityCheckout').value=quantity; closeModal('cartModal'); openModal('checkoutModal'); }
};

document.getElementById('cartIcon').onclick = function(){ if(cart>0) openModal('cartModal'); else alert("Din varukorg √§r tom."); }
document.getElementById('closeCart').onclick = ()=>closeModal('cartModal');
document.getElementById('closeCheckout').onclick = ()=>closeModal('checkoutModal');

function sendShippingAndPay(){
  const name=document.getElementById('name').value;
  const email=document.getElementById('email').value;
  const phone=document.getElementById('phone').value;
  const address=document.getElementById('address').value;
  const postal=document.getElementById('postal').value;
  const city=document.getElementById('city').value;
  const shipping=document.getElementById('shipping').value;
  const variant=document.getElementById('variant').value;
  const subVariant=document.getElementById('subVariant').value;
  const color=document.getElementById('color').value;
  const quantity=parseInt(document.getElementById('quantityCheckout').value)||1;
  const total=quantity*85;

  emailjs.send("service_obk5jf2","template_kj9rgm7",{name,email,phone,address,postal,city,shipping,variant,subVariant,color,quantity,total}).then(()=>{
    const modalContent=document.querySelector('#checkoutModal .modalContent');
    modalContent.innerHTML=`<span id="closeCheckout" class="closeBtn">&times;</span><h2>Tack f√∂r din best√§llning!</h2><p><strong>Namn:</strong> ${name}</p><p><strong>E-post:</strong> ${email}</p><p><strong>Telefon:</strong> ${phone}</p><p><strong>Adress:</strong> ${address}, ${postal} ${city}</p><p><strong>Fraktmetod:</strong> ${shipping}</p><p><strong>Produkt:</strong> ${variant} ${subVariant} - ${color}</p><p><strong>Antal:</strong> ${quantity}</p><p><strong>Total:</strong> ${total}kr</p><p>√ñppna Swish p√• mobilen f√∂r att betala.</p>`;
    document.getElementById('closeCheckout').onclick = ()=>closeModal('checkoutModal');
    if(/Mobi|Android/i.test(navigator.userAgent)){ window.location.href=`swish://paymentrequest?token=1&callbackurl=https://togobaguf.com&payee=0764134947&amount=${total}&message=To-Go%20Bag%20(${variant},${subVariant},${color},%20f√∂rbest√§llning)`; }
    else alert("Swish fungerar endast p√• mobilen. √ñppna sidan p√• mobilen f√∂r att betala.");
  }, e=>{alert("Det gick inte att skicka adressen."); console.log(e);});
}
</script>
</body>
</html>
